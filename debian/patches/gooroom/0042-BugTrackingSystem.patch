From 23e5e648e2e0cb0aef4d5b17dde5c9f68733a3a9 Mon Sep 17 00:00:00 2001
From: junsungc <junsungc@gooroom.kr>
Date: Mon, 27 Jul 2020 13:47:13 +0900
Subject: [PATCH 42/85] BugTrackingSystem

697 : Change strings 'chrome&google' to gooroom on gooroom:// pages
697-6 : Change default ntp (google webstore -> gooroom.kr)
---
 chrome/app/generated_resources.grd                 |  3 +++
 chrome/app/resources/locale_settings.grd           |  3 +++
 chrome/app/theme/theme_resources.grd               |  1 +
 .../log_sources/chrome_internal_log_source.cc      |  2 +-
 chrome/browser/history/top_sites_factory.cc        |  8 ++++----
 chrome/browser/resources/inspect/inspect.html      |  2 +-
 .../resources/net_internals/events_view.html       |  2 +-
 chrome/browser/ui/webui/about_ui.cc                | 14 +++++++++++---
 .../supervised_user_internals_message_handler.cc   |  2 ++
 .../service_worker/serviceworker_internals.html    |  2 +-
 10 files changed, 28 insertions(+), 11 deletions(-)

diff --git a/chrome/app/generated_resources.grd b/chrome/app/generated_resources.grd
index 3173fac28aa8..8b0cfbd91dd0 100644
--- a/chrome/app/generated_resources.grd
+++ b/chrome/app/generated_resources.grd
@@ -4607,6 +4607,9 @@ Keep your key file in a safe place. You will need it to create new versions of y
       <message name="IDS_EXTENSION_WEB_STORE_TITLE_SHORT" desc="Shortened version of text for the Chrome Web Store">
         Web Store
       </message>
+      <message name="IDS_GOOROOM_TITLE_SHORT" desc="Shortened version of text for the Gooroom.kr">
+        Gooroom Flatform
+      </message>
       <message name="IDS_EXTENSIONS_SHOW_DETAILS" desc="Tooltip for the button next to an extension that shows more details">
         Show Details
       </message>
diff --git a/chrome/app/resources/locale_settings.grd b/chrome/app/resources/locale_settings.grd
index 0cc26c78ba32..3caf5112bce2 100644
--- a/chrome/app/resources/locale_settings.grd
+++ b/chrome/app/resources/locale_settings.grd
@@ -172,6 +172,9 @@
       <message name="IDS_WEBSTORE_URL" translateable="false">
         https://chrome.google.com/webstore?hl=[GRITLANGCODE]
       </message>
+      <message name="IDS_GOOROOM_URL" translateable="false">
+        https://www.gooroom.kr
+      </message>
 
       <!-- The width of the media galleries configuration dialog in characters. -->
       <message name="IDS_MEDIA_GALLERIES_DIALOG_CONTENT_WIDTH_CHARS" use_name_for_id="true">
diff --git a/chrome/app/theme/theme_resources.grd b/chrome/app/theme/theme_resources.grd
index 878734a162a1..8c6974e463d3 100644
--- a/chrome/app/theme/theme_resources.grd
+++ b/chrome/app/theme/theme_resources.grd
@@ -135,6 +135,7 @@
         <structure type="chrome_scaled_image" name="IDR_ICON_USER_MANAGER_TUTORIAL_COMPLETE" file="common/user_manager_tutorial/complete.png" />
         </if>
       </if>
+      <structure type="chrome_scaled_image" name="IDR_GOOROOM_ICON" file="gooroom/product_logo_32.png" />
       <structure type="chrome_scaled_image" name="IDR_INPUT_ALERT" file="common/input_alert.png" />
       <structure type="chrome_scaled_image" name="IDR_INPUT_ALERT_MENU" file="common/input_alert_menu.png" />
       <if expr="enable_service_discovery">
diff --git a/chrome/browser/feedback/system_logs/log_sources/chrome_internal_log_source.cc b/chrome/browser/feedback/system_logs/log_sources/chrome_internal_log_source.cc
index b001aa3db63f..1661d6006014 100644
--- a/chrome/browser/feedback/system_logs/log_sources/chrome_internal_log_source.cc
+++ b/chrome/browser/feedback/system_logs/log_sources/chrome_internal_log_source.cc
@@ -77,7 +77,7 @@ constexpr char kSyncDataKey[] = "about_sync_data";
 constexpr char kExtensionsListKey[] = "extensions";
 constexpr char kPowerApiListKey[] = "chrome.power extensions";
 constexpr char kDataReductionProxyKey[] = "data_reduction_proxy";
-constexpr char kChromeVersionTag[] = "CHROME VERSION";
+constexpr char kChromeVersionTag[] = "GOOROOM VERSION";
 
 #if BUILDFLAG(IS_CHROMEOS_ASH) || BUILDFLAG(IS_CHROMEOS_LACROS)
 constexpr char kLacrosChromeVersionPrefix[] = "Lacros ";
diff --git a/chrome/browser/history/top_sites_factory.cc b/chrome/browser/history/top_sites_factory.cc
index 6dbb94b5e77b..c53603ed80b2 100644
--- a/chrome/browser/history/top_sites_factory.cc
+++ b/chrome/browser/history/top_sites_factory.cc
@@ -57,10 +57,10 @@ struct RawPrepopulatedPage {
 // Android does not use prepopulated pages.
 const RawPrepopulatedPage kRawPrepopulatedPages[] = {
     {
-        IDS_WEBSTORE_URL,
-        IDS_EXTENSION_WEB_STORE_TITLE_SHORT,
-        IDR_WEBSTORE_ICON_32,
-        SkColorSetRGB(63, 132, 197),
+        IDS_GOOROOM_URL,
+        IDS_GOOROOM_TITLE_SHORT,
+        IDR_GOOROOM_ICON,
+        SkColorSetRGB(52, 132, 197),
     },
 };
 #endif
diff --git a/chrome/browser/resources/inspect/inspect.html b/chrome/browser/resources/inspect/inspect.html
index ea5cccb11c94..cc6fb931046f 100644
--- a/chrome/browser/resources/inspect/inspect.html
+++ b/chrome/browser/resources/inspect/inspect.html
@@ -7,7 +7,7 @@ found in the LICENSE file.
 -->
 <head>
 <meta charset="utf-8">
-<title>Inspect with Chrome Developer Tools</title>
+<title>Inspect with Gooroom Developer Tools</title>
 <link rel="stylesheet" href="chrome://resources/css/text_defaults.css">
 <link rel="stylesheet" href="inspect.css">
 <script src="chrome://resources/js/assert.js"></script>
diff --git a/chrome/browser/resources/net_internals/events_view.html b/chrome/browser/resources/net_internals/events_view.html
index 950e3ca8236f..e231bfd341ca 100644
--- a/chrome/browser/resources/net_internals/events_view.html
+++ b/chrome/browser/resources/net_internals/events_view.html
@@ -1,6 +1,6 @@
 <!-- ================= Events view =================== -->
 <div id=events-view-tab-content class=content-box>
   The net-internals events viewer and related functionality has been removed.
-  Please use <a href="chrome://net-export">chrome://net-export</a> to save netlogs and the external <a href="https://netlog-viewer.appspot.com/">netlog_viewer</a> to view them.
+  Please use <a href="chrome://net-export">gooroom://net-export</a> to save netlogs and the external <a href="https://netlog-viewer.appspot.com/">netlog_viewer</a> to view them.
 </div>
 
diff --git a/chrome/browser/ui/webui/about_ui.cc b/chrome/browser/ui/webui/about_ui.cc
index 6c2f12505e01..96a530d78bf2 100644
--- a/chrome/browser/ui/webui/about_ui.cc
+++ b/chrome/browser/ui/webui/about_ui.cc
@@ -13,6 +13,7 @@
 #include <utility>
 #include <vector>
 
+#include "gooroom/URLRewrite/gooroom_url_rewrite.h"
 #include "base/bind.h"
 #include "base/callback.h"
 #include "base/callback_helpers.h"
@@ -544,17 +545,17 @@ namespace {
 
 std::string ChromeURLs() {
   std::string html;
-  AppendHeader(&html, 0, "Chrome URLs");
+  AppendHeader(&html, 0, "Gooroom URLs");
   AppendBody(&html);
 
-  html += "<h2>List of Chrome URLs</h2>\n<ul>\n";
+  html += "<h2>List of Gooroom URLs</h2>\n<ul>\n";
   std::vector<std::string> hosts(
       chrome::kChromeHostURLs,
       chrome::kChromeHostURLs + chrome::kNumberOfChromeHostURLs);
   std::sort(hosts.begin(), hosts.end());
   for (const std::string& host : hosts) {
     html +=
-        "<li><a href='chrome://" + host + "/'>chrome://" + host + "</a></li>\n";
+        "<li><a href='chrome://" + host + "/'>gooroom://" + host + "</a></li>\n";
   }
 
   html += "</ul><h2>List of chrome://internals pages</h2>\n<ul>\n";
@@ -573,7 +574,14 @@ std::string ChromeURLs() {
       "crash or hang the renderer, they're not linked directly; you can type "
       "them into the address bar if you need them.</p>\n<ul>";
   for (size_t i = 0; i < chrome::kNumberOfChromeDebugURLs; i++)
+#if defined(GOOROOM_BUILD)
+  {
+    GURL changed_url = GooroomURLRewrite::ChangeGooroomScheme(GURL(std::string(chrome::kChromeDebugURLs[i])));
+    html += "<li>" + std::string(changed_url.spec()) + "</li>\n";
+  }
+#else
     html += "<li>" + std::string(chrome::kChromeDebugURLs[i]) + "</li>\n";
+#endif
   html += "</ul>\n";
 
   AppendFooter(&html);
diff --git a/chrome/browser/ui/webui/supervised_user_internals_message_handler.cc b/chrome/browser/ui/webui/supervised_user_internals_message_handler.cc
index 3235dec03929..f4f4c8ac7621 100644
--- a/chrome/browser/ui/webui/supervised_user_internals_message_handler.cc
+++ b/chrome/browser/ui/webui/supervised_user_internals_message_handler.cc
@@ -204,6 +204,8 @@ void SupervisedUserInternalsMessageHandler::SendBasicInfo() {
   std::unique_ptr<base::ListValue> section_list(new base::ListValue);
 
   base::ListValue* section_general = AddSection(section_list.get(), "General");
+  AddSectionEntry(section_general, "Gooroom version",
+                  chrome::GetVersionString());
   AddSectionEntry(section_general, "Child detection enabled",
                   ChildAccountService::IsChildAccountDetectionEnabled());
 
diff --git a/content/browser/resources/service_worker/serviceworker_internals.html b/content/browser/resources/service_worker/serviceworker_internals.html
index 34d292762a80..180ce757be56 100644
--- a/content/browser/resources/service_worker/serviceworker_internals.html
+++ b/content/browser/resources/service_worker/serviceworker_internals.html
@@ -2,7 +2,7 @@
 <html dir="ltr" lang="en">
 <head>
   <meta charset="utf-8">
-  <title>chrome://serviceworker-internals</title>
+  <title>gooroom://serviceworker-internals</title>
   <link rel="stylesheet" href="chrome://resources/css/text_defaults.css">
   <link rel="stylesheet" href="chrome://resources/css/widgets.css">
   <link rel="stylesheet" href="serviceworker_internals.css">
-- 
2.20.1

