From 30ebe15e719beba00a40f3e49ff4a13c1ac5ffe6 Mon Sep 17 00:00:00 2001
From: junsungc <junsungc@gooroom.kr>
Date: Wed, 22 Jul 2020 14:12:05 +0900
Subject: [PATCH 03/66] enable GooroomBrowserExtraPartsSecurity by attaching it
 to gooroom-browser. Add GooroomExtraPartsSecurity in gooroom/BUILD.gn

---
 gooroom/BUILD.gn                                  | 4 ++++
 gooroom/browser/gooroom_content_browser_client.cc | 3 +++
 2 files changed, 7 insertions(+)

diff --git a/gooroom/BUILD.gn b/gooroom/BUILD.gn
index 744052668b1c6..89bf2a517ceb7 100644
--- a/gooroom/BUILD.gn
+++ b/gooroom/BUILD.gn
@@ -221,6 +221,10 @@ if (!is_android && !is_mac) {
         "browser/gooroom_content_browser_client.h",
         "browser/gooroom_content_client.cc",
         "browser/gooroom_content_client.h",
+
+         # for commit #3
+        "browser/gooroom_browser_extra_parts_security.cc",
+        "browser/gooroom_browser_extra_parts_security.h",
       ]
     }
   }
diff --git a/gooroom/browser/gooroom_content_browser_client.cc b/gooroom/browser/gooroom_content_browser_client.cc
index a5bf7df992ac1..2630b9505d2a6 100644
--- a/gooroom/browser/gooroom_content_browser_client.cc
+++ b/gooroom/browser/gooroom_content_browser_client.cc
@@ -3,6 +3,7 @@
 // found in the LICENSE file.
 
 #include "gooroom/browser/gooroom_content_browser_client.h"
+#include "gooroom/browser/gooroom_browser_extra_parts_security.h"
 
 #include <iterator>
 #include <map>
@@ -800,6 +801,8 @@ GooroomContentBrowserClient::CreateBrowserMainParts(bool is_integration_test) {
   main_parts->AddParts(
       std::make_unique<ChromeBrowserMainExtraPartsSegmentationPlatform>());
 
+  main_parts->AddParts(
+      std::make_unique<GooroomBrowserExtraPartsSecurity>());
   return main_parts;
 }
 
-- 
2.30.2

