From 916734722651bc7e3202abe12345d3797d694ad1 Mon Sep 17 00:00:00 2001
From: junsungc <junsungc@gooroom.kr>
Date: Wed, 22 Jul 2020 14:14:47 +0900
Subject: [PATCH 06/66] add guard for the whitelist based browser separation

---
 build/config/chrome_build.gni   | 1 +
 ppapi/buildflags/BUILD.gn       | 1 +
 ppapi/buildflags/buildflags.gni | 1 +
 3 files changed, 3 insertions(+)

diff --git a/build/config/chrome_build.gni b/build/config/chrome_build.gni
index 5c51d7f2cc3db..e9c6531b8b905 100644
--- a/build/config/chrome_build.gni
+++ b/build/config/chrome_build.gni
@@ -7,6 +7,7 @@ declare_args() {
   # true means official Google Chrome branding (requires extra Google-internal
   # resources).
   is_chrome_branded = false
+  is_gooroom = true
 }
 
 declare_args() {
diff --git a/ppapi/buildflags/BUILD.gn b/ppapi/buildflags/BUILD.gn
index 85f906a9209a1..3d0ffb3365f8d 100644
--- a/ppapi/buildflags/BUILD.gn
+++ b/ppapi/buildflags/BUILD.gn
@@ -14,5 +14,6 @@ buildflag_header("buildflags") {
   flags = [
     "ENABLE_PLUGINS=$enable_plugins",
     "ENABLE_PPAPI=$enable_ppapi",
+    "ENABLE_GOOROOM=$enable_gooroom"
   ]
 }
diff --git a/ppapi/buildflags/buildflags.gni b/ppapi/buildflags/buildflags.gni
index f86bf04b9781b..3211dac77ed17 100644
--- a/ppapi/buildflags/buildflags.gni
+++ b/ppapi/buildflags/buildflags.gni
@@ -11,6 +11,7 @@ declare_args() {
   # looking up plugins, but does not include support for loading plugins using a
   # specific technology like Pepper.
   enable_plugins = !is_android && !is_ios && !is_castos && !is_fuchsia
+  enable_gooroom = is_gooroom
 }
 
 declare_args() {
-- 
2.30.2

